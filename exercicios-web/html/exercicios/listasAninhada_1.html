<h1>Projeto (Pastas e Arquivos)</h1>

<ul class="tree">
    <li>
        <span collapsible-item>Back-end</span>
        <ul>
            <li>
                <span collapsible-item>Aplicação</span>
                <ul>
                    <li>produto.js</li>
                    <li>usuario.js</li>
                    <li>venda.js</li>
                </ul>
            </li>
            <li>
                <span collapsible-item>Configurações</span>
                <ul>
                    <li>banco.js</li>
                    <li>rotas.js</li>
                    <li>servidor.js</li>
                </ul>
            </li>
        </ul>
    </li>
    <li>
        <span collapsible-item>Front-end</span>
        <ul>
            <li>
                <span collapsible-item>Public</span>
                <ul>
                    <li>app.css</li>
                    <li>app.js</li>
                    <li>index.html</li>
                </ul>
            </li>
        </ul>
    </li>
</ul>


<link rel="stylesheet" href="http://files.cod3r.com.br/curso-web/tree.css">
<style>
    [collapsible-item]:hover {
        cursor: pointer;
        transform: translateX(20px);
        transition: 0.4s;
    }
</style>
<script>
    const collapsible = document.querySelectorAll('[collapsible-item]')

    collapsible.forEach(element => {
        element.onclick = () => {
            //debugger
            let siblings = getElementSiblings(element)

            siblings.forEach(sibling => {
                if (sibling.style.display === "none")
                    sibling.style.display = "block"
                else 
                    sibling.style.display = "none"
            })
        }
    })

    function getElementSiblings(element) {
        let siblings = []

        if (!element.parentNode) { /*parent node = tag 'mãe'*/
            return siblings
        }

        let sibling = element.parentNode.firstChild

        while (sibling) {
            if (sibling.nodeType === 1 && sibling !== element) {
                siblings.push(sibling)
            }
            sibling = sibling.nextSibling
        }

        return siblings
    }
</script>
